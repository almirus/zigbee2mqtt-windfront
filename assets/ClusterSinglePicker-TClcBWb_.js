import{r as l,a as g,k as x,b as h,j as n}from"./index-Cg_dwqpD.js";import{S as f}from"./SelectField-dfeWrxvV.js";const C=l.memo(({sourceIdx:d,cluster:r,device:c,onChange:p,label:m,...b})=>{const a=g(x(e=>e.bridgeDefinitions[d])),{t:i}=h("zigbee"),u=l.useMemo(()=>{const e=a.clusters[r];if(e)return e.attributes;const s=a.custom_clusters[c.ieee_address];if(s){const o=s[r];if(o)return o.attributes}return[]},[a,c.ieee_address,r]),t=l.useMemo(()=>{const e=[];for(const s in u)e.push(n.jsx("option",{value:s,children:s},s));return e},[u]);return n.jsxs(f,{name:"attribute_picker",label:m,onChange:e=>p(e.target.value,u[e.target.value]),disabled:t.length===0,className:"select validator max-w-64",...b,children:[n.jsx("option",{value:"",disabled:!0,children:i(e=>e.select_attribute)}),t]})}),_=l.memo(d=>{const{clusters:r,onChange:c,value:p,label:m,disabled:b,...a}=d,{t:i}=h(["zigbee","common"]),u=l.useMemo(()=>{const t=[];if(Array.isArray(r))for(const e of r){const s=[];for(const o of e.clusters)s.push(n.jsx("option",{value:o,children:o},o));t.push(n.jsx("optgroup",{label:i(o=>o[e.name]),children:s},e.name))}else for(const e of r)t.push(n.jsx("option",{value:e,children:e},e));return t},[r,i]);return n.jsxs(f,{name:"attribute_picker",label:m,value:p,onChange:t=>c(t.target.value),disabled:b,className:"select validator max-w-48",...a,children:[n.jsx("option",{value:"",disabled:!0,children:i(t=>t.select_cluster)}),u]})});export{C as A,_ as C};
